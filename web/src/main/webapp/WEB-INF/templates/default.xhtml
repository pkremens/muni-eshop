<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>Eshop</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<h:outputStylesheet name="css/table-style.css" />
</h:head>
<h:body>
	<h:form id="navigationMenu">
		<p:breadCrumb>
			<p:menuitem update="content" value="Categories" url="#" />
			<p:menuitem update="content" value="Customers" url="/customers.jsf" />
			<p:menuitem update="content" value="Products" url="/products.jsf" />
			<p:menuitem update="content" value="History"
				disabled="#{!identity.loggedIn}" url="#" />
		</p:breadCrumb>
	</h:form>
	<h:form id="loginInfo">
		<h5 align="right">
			<p:messages id="messages" autoUpdate="true"
				 />
			<h:form id="loginForm" rendered="#{not identity.loggedIn}">
				<h:outputLabel for="email" value="Email: " />
				<p:inputText id="email" value="#{loginBean.email}" label="Firstname" />

				<h:outputLabel for="password" value="Password: " />
				<p:password id="password" value="#{loginBean.password}"
					label="password" />


				<p:commandButton value="Log in" disabled="#{identity.loggedIn}"
					update="@all" actionListener="#{loginBean.logIn()}"
					styleClass="ui-priority-primary" />


			</h:form>
			<h:outputLabel value="You are logged as: #{identity.customer.email}"
				rendered="#{identity.loggedIn}" />
			&#160;

			<p:commandButton id="logout" value="Logout"
				action="#{identity.logOut()}" update="@all"
				rendered="#{identity.loggedIn}" />
		</h5>
	</h:form>

	<li>Dummy pages:</li>
	<a href="#{request.contextPath}/InitServlet">Servlet for generating
		dummy data</a>

	<div id="content">
		<ui:insert name="content">
                    [Template content will be inserted here]
                </ui:insert>
	</div>
	<div id="footer">
		<br />
		<hr />
		Footer from template
	</div>

</h:body>
</html>
